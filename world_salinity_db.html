<head>
<title>World ocean salinity database</title>
<link href="style.css" rel="stylesheet" type="text/css">
<script language="javascript" type="text/javascript">

var wosDB;

var getJSON = function(url, callback) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.responseType = 'json';
    xhr.onload = function() {
      var status = xhr.status;
      if (status === 200) {
        callback(null, xhr.response);
      } else {
        callback(status, xhr.response);
      }
    };
    xhr.send();
};

getJSON('https://alekunderwater.github.io/wosdb_lon_lat_sty.json',
function(err, data) {
  if (err !== null) {
    console.log(err);
  } else {
    wosDB = data;
  }
});

function onSearch() {

  t_lt = document.getElementById("lat_deg_input").value.toString();
  t_ln = document.getElementById("lon_deg_input").value.toString();

  if (t_ln in wosDB) {
    if (t_lt in wosDB[t_ln]) {
      document.getElementById("s_PSU_out").innerText = wosDB[t_ln][t_lt].toFixed(3);
    }
  }
}


</script>

</head>

<body>
<h1>World ocean salinity database</h1>
<hr>

<table id="in_values_tbl">
 <tr>
   <th>Parameter</th>
   <th>Value</th>
   <th>Range</th>
   <th>Units</th>
 </tr>
 <tr>
   <td>Geographic latitude</td>
   <td><input type="number" step="0.5" value="44.5" min="-85" max="85" name="lat_deg" id="lat_deg_input"></td>
   <td>-90 .. 90</td>
   <td>°</td>
 </tr>
 <tr>
   <td>Geographic longitude</td>
   <td><input type="number" step="0.5" value="48.5" min="-175" max="175" name="lon_deg" id="lon_deg_input"></td>
   <td>-90 .. 90</td>
   <td>°</td>
 </tr>
 <tr>
   <td>Salinity</td>
   <td><b><a id="s_PSU_out"></a></b></td>
   <td>0 .. 42</td>
   <td>PSU</td>
 </tr>
</table>
<br>
<hr>

<div>
    <button id="search" onclick="onSearch()">Search</button>
</div>


<ol>
<li id="footnote1"><a href="https://darchive.mblwhoilibrary.org/bitstream/handle/1912/2470/059832eb.pdf">Algorithms for computation of fundamental properties of seawater.
Unesco technical papers in marine science vol. 44, 1983</a>.
</ol>


<hr>
(C) Alek Dikarev, 2020<br>
For bug reports, suggestions and questions, please feel free to <a href="https://github.com/AlekUnderwater">reach me</a><br>

<script language="javascript" type="text/javascript">

</script>

</body>
</html>
